import{u as T,b1 as U,r as k,a as _,o as $,b as i,c as f,H as g,J as m,f as e,d as a,h as t,g as n,j as r,G as v,F as I,L as q,C as j,i as E}from"./index.8adb45b4.js";import{E as G}from"./el-card.b34a9ce7.js";import{c as V,E as u}from"./el-form-item.99ad06f6.js";import{b as D,a as x}from"./api.c07297bd.js";import"./el-checkbox.b7d1d498.js";import{a as M,b as C}from"./el-select.a54b3eea.js";import"./el-popper.18156131.js";import{E as c}from"./el-button.76b5ad27.js";import{E as H}from"./el-divider.64bfef65.js";import{M as J}from"./ModalSelect.95b84c8e.js";import{v as O,e as X,a as A}from"./device.b67cc940.js";import{_ as K}from"./plugin-vue_export-helper.21dcd24c.js";import"./el-table-column.4c8131fd.js";import"./el-tooltip.586473e3.js";import"./el-dialog.d2d00727.js";import"./refs.71c86f60.js";import"./el-pagination.f870b29a.js";const P={class:"content-card"},Q={class:"card-header"},W=r("\u8FD4\u56DE"),Y=r("\u5728\u7EBF"),Z=r("\u79BB\u7EBF"),ee=r("\u5DF2\u6FC0\u6D3B"),le=r("\u672A\u6FC0\u6D3B"),te=r(m("\u6DF1\u5733\u5E02\u6B27\u8FEA\u4E1D\u751F\u7269\u79D1\u6280\u6709\u9650\u516C\u53F8")),ae=r(m("\u6DF1\u5733\u5E02\u6B27\u8FEA\u4E1D\u751F\u7269\u79D1\u6280\u6709\u9650\u516C\u53F8")),se=r(m("")),oe=r(m("2022-08-06 16:33:23")),de=r(m("2022-08-08 14:21:15")),ie=r(m("-")),re={key:0,class:"btn-bottom-list"},ue=r("\u4FDD\u5B58"),ne=r("\u8FD4\u56DE"),me={__name:"DeviceListDetail",setup(ce){const w=T(),o=U(),y=k(!1),b=k(),d=_({status:1,activeStatus:0,deviceCode:"",deviceModel:"",storeId:"",deviceDescribe:""}),N=_([{label:"MEI XIU SI",value:"1"},{label:"\u6B27\u6D32\u4E4B\u661F:\u751F\u547D\u80FD\u91CF\u6297\u8870\u96D5\u5851\u5927\u5E08plus",value:"2"},{label:"\u6B27\u6D32\u4E4B\u661F:\u751F\u547D\u80FD\u91CF\u6297\u8870\u96D5\u5851\u5927\u5E08",value:"3"},{label:"\u6B27\u6D32\u4E4B\u661F:\u65F6\u5C1A\u5851\u5F62\u5927\u5E08",value:"4"}]),h=_({add:"\u65B0\u589E",edit:"\u4FEE\u6539",view:"\u67E5\u770B"}),S=_({deviceNo:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BBE\u5907\u7F16\u53F7",trigger:["blur","change"]}],deviceTypeId:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BBE\u5907\u578B\u53F7",trigger:["blur","change"]}]});$(()=>{o.params.id&&O(o.params.id).then(p=>{console.log(p)})});const L=()=>{y.value=!0},R=p=>{const s=p.map(l=>{const{storeId:z,storeName:B}=l;return{label:B,value:z}});d.storeId=s},F=()=>{!b.value||b.value.validate(p=>{p&&(console.log(d),o.params.id?X({...d,id:o.params.id}).then(()=>{x.success("\u4FEE\u6539\u6210\u529F\uFF01")}):A({...d}).then(()=>{x.success("\u65B0\u589E\u6210\u529F\uFF01")}))})};return(p,s)=>(i(),f("div",P,[g("div",Q,[g("span",null,m(h[e(o).query.type]||h.add)+"\u8BBE\u5907",1),a(e(c),{class:"button",onClick:s[0]||(s[0]=l=>e(w).back())},{default:t(()=>[W]),_:1})]),a(e(G),{class:"my-card"},{default:t(()=>[a(e(V),{inline:!0,ref_key:"ruleFormRef",ref:b,model:d,class:"demo-form-inline","label-width":"auto","label-suffix":"\uFF1A",rules:S},{default:t(()=>[["edit","view"].includes(e(o).query.type)?(i(),n(e(u),{key:0,label:"\u5E8F\u53F7"},{default:t(()=>[r(m(e(o).params.id),1)]),_:1})):v("",!0),a(e(u),{label:"\u8BBE\u5907\u7F16\u53F7",required:"",prop:"deviceNo"},{default:t(()=>[a(e(D),{modelValue:d.deviceNo,"onUpdate:modelValue":s[1]||(s[1]=l=>d.deviceNo=l),class:"my-input",maxlength:200,placeholder:"\u8BF7\u8F93\u5165\u8BBE\u5907\u7F16\u53F7",disabled:["edit","view"].includes(e(o).query.type),clearable:""},null,8,["modelValue","disabled"])]),_:1}),["edit","view"].includes(e(o).query.type)?(i(),n(e(u),{key:1,label:"\u5F53\u524D\u72B6\u6001"},{default:t(()=>[d.deviceStatus===1?(i(),n(e(c),{key:0,type:"success",plain:"",size:"small"},{default:t(()=>[Y]),_:1})):(i(),n(e(c),{key:1,type:"danger",plain:"",size:"small"},{default:t(()=>[Z]),_:1}))]),_:1})):v("",!0),["edit","view"].includes(e(o).query.type)?(i(),n(e(u),{key:2,label:"\u6FC0\u6D3B\u72B6\u6001"},{default:t(()=>[d.activeStatus===1?(i(),n(e(c),{key:0,type:"success",plain:"",size:"small"},{default:t(()=>[ee]),_:1})):(i(),n(e(c),{key:1,type:"danger",plain:"",size:"small"},{default:t(()=>[le]),_:1}))]),_:1})):v("",!0),a(e(u),{label:"\u8BBE\u5907\u578B\u53F7",required:"",prop:"deviceTypeId"},{default:t(()=>[a(e(M),{modelValue:d.deviceTypeId,"onUpdate:modelValue":s[2]||(s[2]=l=>d.deviceTypeId=l),disabled:["edit","view"].includes(e(o).query.type),clearable:""},{default:t(()=>[(i(!0),f(I,null,q(N,l=>(i(),n(e(C),{label:l.label,value:l.value,key:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1}),["edit","view"].includes(e(o).query.type)?(i(),n(e(u),{key:3,label:"\u7ED1\u5B9A\u95E8\u5E97"},{default:t(()=>[a(e(M),{"model-value":(d.storeId||[]).map(l=>l.value).join(";"),class:j(e(o).query.type==="edit"?"my-select":""),onClick:s[3]||(s[3]=l=>e(o).query.type==="edit"?L():()=>{}),disabled:"disabled"},{default:t(()=>[(i(!0),f(I,null,q(d.storeId,l=>(i(),n(e(C),{label:l.label,value:l.value,key:l.value},null,8,["label","value"]))),128))]),_:1},8,["model-value","class"])]),_:1})):v("",!0),a(e(u),{label:"\u8BBE\u5907\u8BF4\u660E",style:{width:"100%"}},{default:t(()=>[a(e(D),{type:"textarea",disabled:e(o).query.type==="view","show-word-limit":"",maxlength:500,autosize:{minRows:3,maxRows:5},modelValue:d.deviceRemark,"onUpdate:modelValue":s[4]||(s[4]=l=>d.deviceRemark=l),placeholder:"\u8BF7\u8F93\u5165",clearable:""},null,8,["disabled","modelValue"])]),_:1})]),_:1},8,["model","rules"]),a(e(H)),a(e(V),{inline:!0,class:"demo-form-inline","label-width":"auto","label-suffix":"\uFF1A"},{default:t(()=>[a(e(u),{label:"\u751F\u4EA7\u5382\u5BB6"},{default:t(()=>[te]),_:1}),a(e(u),{label:"\u5F52\u5C5E\u54C1\u724C\u5546"},{default:t(()=>[ae]),_:1}),a(e(u),{label:"\u6240\u5C5E\u54C1\u724C"},{default:t(()=>[se]),_:1}),a(e(u),{label:"\u51FA\u5382\u65F6\u95F4"},{default:t(()=>[oe]),_:1}),a(e(u),{label:"\u6FC0\u6D3B\u65F6\u95F4"},{default:t(()=>[de]),_:1}),a(e(u),{label:"\u4E0B\u7EBF\u65F6\u95F4"},{default:t(()=>[ie]),_:1})]),_:1})]),_:1}),e(o).query.type!=="view"?(i(),f("div",re,[a(e(c),{type:"primary",onClick:s[5]||(s[5]=E(l=>F(),["prevent"]))},{default:t(()=>[ue]),_:1}),a(e(c),{onClick:s[6]||(s[6]=E(l=>e(w).back(),["prevent"]))},{default:t(()=>[ne]),_:1})])):v("",!0),a(J,{showModal:y.value,"onUpdate:showModal":s[7]||(s[7]=l=>y.value=l),getStoreList:R,value:(d.storeId||[]).map(l=>l.value).join(";")},null,8,["showModal","value"])]))}};var Ce=K(me,[["__scopeId","data-v-6759a010"]]);export{Ce as default};
