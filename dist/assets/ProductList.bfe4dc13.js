import{r as i,a as F,u as I,w as M,o as D,b as p,c as k,F as j,d as o,e as U,f as t,g,h as c,i as v,j as _,k as V}from"./index.4123b150.js";import{S as q}from"./SearchComp.cf0432e5.js";import{E as u,a as A}from"./el-table-column.062dd27f.js";import"./el-checkbox.39e08c8e.js";import"./el-tooltip.586473e3.js";import"./el-popper.ef829556.js";import{E as f}from"./el-button.94108e53.js";import{E as G}from"./el-pagination.f696ac85.js";import{a as S,E as H}from"./api.b5d4f119.js";import"./el-select.e8a281ab.js";import{E as J}from"./el-loading.fa21de8e.js";import{g as K,e as O,d as Q}from"./product.3d402efe.js";import{_ as W}from"./plugin-vue_export-helper.21dcd24c.js";import"./el-form-item.a6c605e5.js";/* empty css                *//* empty css                       */const X={class:"container"},Y=_("\u4E0B\u67B6"),Z=_("\u4E0A\u67B6"),ee=_("\u7F16\u8F91"),te=_("\u5220\u9664"),ae={__name:"ProductList",setup(oe){const w=J.directive,b=i([{productNo:"1321",productName:"\u95E8\u5E97\u57F9\u8BAD\u4E94\u6B21",productNum:"P1538796514674085889",productShortForm:"\u95E8\u5E97\u57F9\u8BAD\u4E94\u6B21",brandName:"\u6DF1\u5733\u5E02\u6B27\u8FEA\u4E1D\u751F\u7269\u79D1\u6280\u6709\u9650\u516C\u53F8",productInventory:"12",productType:1}]),E=F([{type:"input",label:"\u4EA7\u54C1\u540D\u79F0",placeholder:"\u4EA7\u54C1\u540D\u79F0/\u4EA7\u54C1\u7F16\u7801/\u7B80\u79F0",field:"productName"},{type:"select",label:"\u4EA7\u54C1\u7C7B\u578B",field:"productCategory",optionList:[{label:"\u666E\u901A\u4EA7\u54C1",value:"1"},{label:"\u670D\u52A1\u8017\u6750",value:"2"},{label:"\u9662\u88C5\u4EA7\u54C1",value:"3"},{label:"\u5957\u76D2\u4EA7\u54C1",value:"4"}]},{type:"btnList",children:[{text:"\u67E5\u8BE2",type:"submit",onClick:e=>{console.log(e),n.value=1,s({...e,currentPage:1,pageSize:r.value})}},{text:"\u91CD\u7F6E",type:"reset",onClick:()=>{n.value=1,s({currentPage:1,pageSize:r.value})}},{text:"\u6DFB\u52A0\u4EA7\u54C1",style:"primary",onClick:()=>P()}]}]),n=i(1),r=i(10),d=I(),C=i(100),h=i(!1),N=d.currentRoute.value,y=i(N),s=e=>{h.value=!0,K(e).then(a=>{const{currentPage:z,pageSize:l,pageCount:m,totalCount:T,pageList:$}=a||{};b.value=$,C.value=T}).finally(()=>{h.value=!1})};M(()=>d.currentRoute.value,e=>{y.value=e}),D(()=>{y.value.fullPath==="/product-management/product-list"&&s({})});const L=e=>{n.value=1,r.value=e,s({currentPage:1,pageSize:e})},B=e=>{n.value=e,s({currentPage:e,pageSize:r.value})},P=(e,a)=>{console.log(e),e?d.push(`/product-management/product-list/detail/${e.productNum}?type=${a}`):d.push("/product-management/product-list/detail")},x=e=>{O(e).then(()=>{S.success("\u64CD\u4F5C\u6210\u529F\uFF01"),s({currentPage:page,pageSize:r.value})})},R=e=>{console.log(e),H.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u8BE5\u9879\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F","\u63D0\u793A",{cancelButtonText:"\u53D6\u6D88",confirmButtonText:"\u786E\u5B9A",draggable:!0,type:"warning"}).then(()=>{Q(e.deviceNo).then(()=>{S.success("\u64CD\u4F5C\u6210\u529F\uFF01"),n.value=1,s({currentPage:1,pageSize:r.value})})},()=>{})};return(e,a)=>{const z=V("router-view");return p(),k("div",X,[y.value.fullPath==="/product-management/product-list"?(p(),k(j,{key:0},[o(q,{formItemList:E},null,8,["formItemList"]),U((p(),g(t(A),{data:b.value,"max-height":"400",class:"table-class"},{default:c(()=>[o(t(u),{prop:"productNo",label:"\u5E8F\u53F7",width:"100"}),o(t(u),{prop:"productName",label:"\u4EA7\u54C1\u540D\u79F0"}),o(t(u),{prop:"productNum",label:"\u4EA7\u54C1\u7F16\u53F7"}),o(t(u),{prop:"productShortForm",label:"\u7B80\u79F0"}),o(t(u),{prop:"brandName",label:"\u54C1\u724C"}),o(t(u),{prop:"productInventory",label:"\u6D88\u8017\u6B21\u6570"}),o(t(u),{fixed:"right",label:"\u64CD\u4F5C",width:"150"},{default:c(l=>[l.row.status===1?(p(),g(t(f),{key:0,text:"",type:"danger",size:"small",onClick:a[0]||(a[0]=v(m=>x(0),["prevent"]))},{default:c(()=>[Y]),_:1})):(p(),g(t(f),{key:1,text:"",type:"primary",size:"small",onClick:a[1]||(a[1]=v(m=>x(1),["prevent"]))},{default:c(()=>[Z]),_:1})),o(t(f),{text:"",type:"primary",size:"small",onClick:v(m=>P(l.row,"edit"),["prevent"])},{default:c(()=>[ee]),_:2},1032,["onClick"]),o(t(f),{text:"",type:"danger",size:"small",onClick:v(m=>R(l.row),["prevent"])},{default:c(()=>[te]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[t(w),h.value]]),o(t(G),{class:"class-pagination",currentPage:n.value,"onUpdate:currentPage":a[2]||(a[2]=l=>n.value=l),"page-size":r.value,"onUpdate:page-size":a[3]||(a[3]=l=>r.value=l),"page-sizes":[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper",total:C.value,onSizeChange:L,onCurrentChange:B},null,8,["currentPage","page-size","total"])],64)):(p(),g(z,{key:1}))])}}};var be=W(ae,[["__scopeId","data-v-8ca34fda"]]);export{be as default};
