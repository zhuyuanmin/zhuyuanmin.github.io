import{q as G,v as J,x as U,z as O,b as I,c as z,H as R,I as h,C as g,f as e,J as X,d as M,h as b,g as V,E as x,G as q,D as ee,i as oe,s as le,r as k,aA as se,w as j,y as ae,o as te,W as ne,a5 as re,B as ie,e as ue,a3 as de,ac as ce,T as fe,au as me,R as pe}from"./index.4123b150.js";import{u as ye,U as Y,e as ve,f as ge,g as Ce}from"./api.b5d4f119.js";import{a0 as be,u as he,ac as ke,g as Ee,_ as Z,ad as Ie,n as De,R as we,p as K,ae as Be,Y as Te,a8 as _,w as $e,ab as Ae,a as Fe,$ as Se}from"./el-button.94108e53.js";import{c as Re}from"./refs.d7d40db4.js";const H=Symbol("dialogInjectionKey"),W=G({center:{type:Boolean,default:!1},closeIcon:{type:be,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Me={close:()=>!0},Oe=["aria-label"],Ne=["id"],Le={name:"ElDialogContent"},Pe=J({...Le,props:W,emits:Me,setup(o){const i=o,{t:E}=he(),{Close:r}=Ie,{dialogRef:u,headerRef:f,bodyId:D,ns:a,style:t}=U(H),{focusTrapRef:m}=U(ke),d=Re(m,u),p=O(()=>i.draggable);return ye(u,f,p),(s,n)=>(I(),z("div",{ref:e(d),class:g([e(a).b(),e(a).is("fullscreen",s.fullscreen),e(a).is("draggable",e(p)),{[e(a).m("center")]:s.center},s.customClass]),style:ee(e(t)),tabindex:"-1",onClick:n[1]||(n[1]=oe(()=>{},["stop"]))},[R("header",{ref_key:"headerRef",ref:f,class:g(e(a).e("header"))},[h(s.$slots,"header",{},()=>[R("span",{role:"heading",class:g(e(a).e("title"))},X(s.title),3)]),s.showClose?(I(),z("button",{key:0,"aria-label":e(E)("el.dialog.close"),class:g(e(a).e("headerbtn")),type:"button",onClick:n[0]||(n[0]=T=>s.$emit("close"))},[M(e(Ee),{class:g(e(a).e("close"))},{default:b(()=>[(I(),V(x(s.closeIcon||e(r))))]),_:1},8,["class"])],10,Oe)):q("v-if",!0)],2),R("div",{id:e(D),class:g(e(a).e("body"))},[h(s.$slots,"default")],10,Ne),s.$slots.footer?(I(),z("footer",{key:0,class:g(e(a).e("footer"))},[h(s.$slots,"footer")],2)):q("v-if",!0)],6))}});var ze=Z(Pe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Ve=G({...W,appendToBody:{type:Boolean,default:!1},beforeClose:{type:le(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),qe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Y]:o=>De(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Ue=(o,i)=>{const r=ne().emit,{nextZIndex:u}=we();let f="";const D=K(),a=K(),t=k(!1),m=k(!1),d=k(!1),p=k(o.zIndex||u());let s,n;const T=se("namespace",Be),N=O(()=>{const c={},S=`--${T.value}-dialog`;return o.fullscreen||(o.top&&(c[`${S}-margin-top`]=o.top),o.width&&(c[`${S}-width`]=Te(o.width))),c});function L(){r("opened")}function $(){r("closed"),r(Y,!1),o.destroyOnClose&&(d.value=!1)}function P(){r("close")}function A(){n==null||n(),s==null||s(),o.openDelay&&o.openDelay>0?{stop:s}=_(()=>F(),o.openDelay):F()}function w(){s==null||s(),n==null||n(),o.closeDelay&&o.closeDelay>0?{stop:n}=_(()=>l(),o.closeDelay):l()}function B(){function c(S){S||(m.value=!0,t.value=!1)}o.beforeClose?o.beforeClose(c):w()}function y(){o.closeOnClickModal&&B()}function F(){!$e||(t.value=!0)}function l(){t.value=!1}function v(){r("openAutoFocus")}function C(){r("closeAutoFocus")}o.lockScroll&&ve(t);function Q(){o.closeOnPressEscape&&B()}return j(()=>o.modelValue,c=>{c?(m.value=!1,A(),d.value=!0,p.value=o.zIndex?p.value++:u(),ae(()=>{r("open"),i.value&&(i.value.scrollTop=0)})):t.value&&w()}),j(()=>o.fullscreen,c=>{!i.value||(c?(f=i.value.style.transform,i.value.style.transform=""):i.value.style.transform=f)}),te(()=>{o.modelValue&&(t.value=!0,d.value=!0,A())}),{afterEnter:L,afterLeave:$,beforeLeave:P,handleClose:B,onModalClick:y,close:w,doClose:l,onOpenAutoFocus:v,onCloseAutoFocus:C,onCloseRequested:Q,titleId:D,bodyId:a,closed:m,style:N,rendered:d,visible:t,zIndex:p}},je=["aria-label","aria-labelledby","aria-describedby"],Ke={name:"ElDialog"},_e=J({...Ke,props:Ve,emits:qe,setup(o,{expose:i}){const E=o,r=re();Ae({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},O(()=>!!r.title));const u=Fe("dialog"),f=k(),D=k(),a=k(),{visible:t,titleId:m,bodyId:d,style:p,rendered:s,zIndex:n,afterEnter:T,afterLeave:N,beforeLeave:L,handleClose:$,onModalClick:P,onOpenAutoFocus:A,onCloseAutoFocus:w,onCloseRequested:B}=Ue(E,f);ie(H,{dialogRef:f,headerRef:D,bodyId:d,ns:u,rendered:s,style:p});const y=ge(P),F=O(()=>E.draggable&&!E.fullscreen);return i({visible:t,dialogContentRef:a}),(l,v)=>(I(),V(me,{to:"body",disabled:!l.appendToBody},[M(fe,{name:"dialog-fade",onAfterEnter:e(T),onAfterLeave:e(N),onBeforeLeave:e(L),persisted:""},{default:b(()=>[ue(M(e(Ce),{"custom-mask-event":"",mask:l.modal,"overlay-class":l.modalClass,"z-index":e(n)},{default:b(()=>[R("div",{role:"dialog","aria-modal":"true","aria-label":l.title||void 0,"aria-labelledby":l.title?void 0:e(m),"aria-describedby":e(d),class:g(`${e(u).namespace.value}-overlay-dialog`),onClick:v[0]||(v[0]=(...C)=>e(y).onClick&&e(y).onClick(...C)),onMousedown:v[1]||(v[1]=(...C)=>e(y).onMousedown&&e(y).onMousedown(...C)),onMouseup:v[2]||(v[2]=(...C)=>e(y).onMouseup&&e(y).onMouseup(...C))},[M(e(Se),{loop:"",trapped:e(t),"focus-start-el":"container",onFocusAfterTrapped:e(A),onFocusAfterReleased:e(w),onReleaseRequested:e(B)},{default:b(()=>[e(s)?(I(),V(ze,{key:0,ref_key:"dialogContentRef",ref:a,"custom-class":l.customClass,center:l.center,"close-icon":l.closeIcon,draggable:e(F),fullscreen:l.fullscreen,"show-close":l.showClose,title:l.title,onClose:e($)},ce({header:b(()=>[l.$slots.title?h(l.$slots,"title",{key:1}):h(l.$slots,"header",{key:0,close:e($),titleId:e(m),titleClass:e(u).e("title")})]),default:b(()=>[h(l.$slots,"default")]),_:2},[l.$slots.footer?{name:"footer",fn:b(()=>[h(l.$slots,"footer")])}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","title","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,je)]),_:3},8,["mask","overlay-class","z-index"]),[[de,e(t)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Ge=Z(_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const We=pe(Ge);export{We as E};
