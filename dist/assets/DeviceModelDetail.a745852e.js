import{b1 as L,r as _,w as Q,a as R,b as f,g as w,h as t,H as s,d as a,f as e,c as E,b2 as P,b3 as O,o as j,i as S,G as T,L as X,j as C,J as W,F as Y,u as Z}from"./index.4123b150.js";import{E as U}from"./el-card.4da2fcf1.js";import{g as A,H as ee,aa as ae,E as k}from"./el-button.94108e53.js";import{d as te,E as G,a as $,b as M}from"./api.b5d4f119.js";import{E as oe,S as se}from"./SearchComp.cf0432e5.js";/* empty css                */import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";import{E as le}from"./el-switch.4ae1fc62.js";import{a as F,E as b}from"./el-table-column.062dd27f.js";import"./el-checkbox.39e08c8e.js";import"./el-tooltip.586473e3.js";import"./el-popper.ef829556.js";import{E as re}from"./el-dialog.8b796d6a.js";import{E as de}from"./el-pagination.f696ac85.js";import{E as ne}from"./el-select.e8a281ab.js";import{g as ue}from"./product.3d402efe.js";import{v as ce,e as ie,a as pe}from"./deviceType.ac11c888.js";import"./el-form-item.a6c605e5.js";/* empty css                       */import"./refs.d7d40db4.js";const z=p=>(P("data-v-4a8f4123"),p=p(),O(),p),me=z(()=>s("div",{class:"card-header"},[s("span",null,"\u57FA\u7840\u4FE1\u606F")],-1)),_e={class:"content-box"},ve={class:"left"},fe=z(()=>s("div",{class:"card-header"},[s("span",null,"\u4EA7\u54C1\u56FE")],-1)),he={class:"upload-box"},ge=z(()=>s("p",null,"\u8BF7\u4E0A\u4F20\u4E00\u5F20\u900F\u660E\u80CC\u666F\u56FE\u7247",-1)),ye=["src"],be={class:"right"},Ce={__name:"BasicInfoCard",props:{deviceTypeData:{type:Object,default:{}}},setup(p,{expose:I}){const c=p,v=L(),u=_(""),h=_();Q(()=>c.deviceTypeData,n=>{u.value=n.deviceTypeImg});const g=n=>{const{query:m,params:x}=n,N=[{type:"input",label:"\u5E8F\u53F7",placeholder:"",field:"deviceTypeOrderNo",initValue:x.id,disabled:!0},{type:"input",label:"\u578B\u53F7\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165",field:"deviceTypeName",required:!0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u578B\u53F7\u540D\u79F0",trigger:["blur","change"]}]},{type:"select",label:"\u54C1\u724C",placeholder:"\u8BF7\u9009\u62E9",field:"brandId",optionList:[{label:"ODC",value:"1"},{label:"DTM",value:"2"}],required:!0,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u54C1\u724C",trigger:["blur","change"]}]},{type:"textarea",label:"\u578B\u53F7\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0\u4FE1\u606F",field:"deviceTypeRemark",maxLength:200,optionList:[{label:"ODC",value:"1"},{label:"DTM",value:"2"}]}];return(!m.type||m.type==="add")&&N.shift(),m.type==="view"&&N.forEach(V=>V.disabled=!0),N},B=()=>{if(!!h.value)return new Promise((n,m)=>{h.value.validFields().then(n).catch(m)})},i=R(g(v)),d=(n,m)=>{u.value=URL.createObjectURL(m.raw)},y=(n,m)=>{G.confirm(n?n.status===404?"\u63A5\u53E3\u4E0D\u5B58\u5728\uFF01":n.message:"\u54CD\u5E94\u8D85\u65F6\uFF01","\u63D0\u793A",{showCancelButton:!1,showConfirmButton:!1,draggable:!0,type:"error"})},D=n=>n.type!=="image/png"?($.error("Avatar picture must be PNG format!"),!1):n.size/1024/1024>2?($.error("Avatar picture size can not exceed 2MB!"),!1):!0;return I({getSearchFormValue:B}),(n,m)=>(f(),w(e(U),{class:"content-card"},{header:t(()=>[me]),default:t(()=>[s("div",_e,[s("div",ve,[a(e(U),null,{header:t(()=>[fe]),default:t(()=>[s("div",he,[ge,a(e(oe),{class:"avatar-uploader",action:e(te).upload,"show-file-list":!1,"on-success":d,"before-upload":D,"on-error":y,accept:".png",disabled:e(v).query.type==="view"},{default:t(()=>[u.value?(f(),E("img",{key:0,src:u.value,class:"avatar"},null,8,ye)):(f(),w(e(A),{key:1,class:"avatar-uploader-icon"},{default:t(()=>[a(e(ee))]),_:1}))]),_:1},8,["action","disabled"])])]),_:1})]),s("div",be,[a(se,{formItemList:i,ref_key:"searchRef",ref:h},null,8,["formItemList"])])])]),_:1}))}};var Ie=q(Ce,[["__scopeId","data-v-4a8f4123"]]);const H=p=>(P("data-v-46ffa5ae"),p=p(),O(),p),we=H(()=>s("div",{class:"card-header"},[s("span",null,"\u4EEA\u5668\u89E3\u9501")],-1)),ke={class:"content-box"},Be=H(()=>s("span",null,"\u4EA7\u54C1\u5957\u76D2\u89E3\u9501\uFF1A",-1)),Ne=C("\u5220\u9664"),Ee={class:"content"},$e={class:"search-input"},De={class:"select-list-block"},xe={class:"dialog-footer"},Ve=C("\u53D6\u6D88"),Se=C("\u786E\u5B9A"),Te={__name:"UnlockedWayCard",setup(p,{expose:I}){const c=L(),v=_(!0),u=_(!1),h=_([]),g=_([{productId:13,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:14,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:15,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:16,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:17,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:18,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:19,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:20,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"}]),B=R([{productId:13,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:14,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:15,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:16,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:17,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:18,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:19,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"},{productId:20,productName:"B\u7CFB\u5217\u6C22\u6DA6\u5973\u6027\u80F8\u90E8\u51DD\u80F6"}]),i=g.value.map(r=>({name:r.productName})),d=_(1),y=_(10),D=r=>{ue(r).then(o=>{g.value=o})};j(()=>{c.params.id&&D({})});const n=()=>{},m=r=>{h.value=r},x=r=>{console.log(r),y.value=r},N=r=>{console.log(r),d.value=r},V=()=>v.value,J=r=>{console.log(r),G.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u8BE5\u9879\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F","\u63D0\u793A",{cancelButtonText:"\u53D6\u6D88",confirmButtonText:"\u786E\u5B9A",draggable:!0,type:"warning"}).then(()=>{},()=>{})};return I({getSwitchValue:V}),(r,o)=>(f(),w(e(U),{class:"content-card"},{header:t(()=>[we]),default:t(()=>[s("div",ke,[s("div",null,[Be,a(e(le),{modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=l=>v.value=l),disabled:e(c).query.type==="view"},null,8,["modelValue","disabled"])]),["edit","view"].includes(e(c).query.type)?(f(),w(e(F),{key:0,data:g.value,"max-height":"400",class:"table-class"},{default:t(()=>[a(e(b),{prop:"productId",label:"\u4EA7\u54C1ID",width:"200"}),a(e(b),{prop:"productName",label:"\u4EA7\u54C1\u540D\u79F0"}),e(c).query.type==="edit"?(f(),w(e(b),{key:0,label:"\u64CD\u4F5C",width:"200"},{header:t(()=>[a(e(A),{color:"#409EFC",size:20,onClick:o[1]||(o[1]=l=>u.value=!0)},{default:t(()=>[a(e(ae))]),_:1})]),default:t(l=>[a(e(k),{text:"",type:"danger",size:"small",onClick:S(K=>J(l.row),["prevent"])},{default:t(()=>[Ne]),_:2},1032,["onClick"])]),_:1})):T("",!0)]),_:1},8,["data"])):T("",!0)]),a(e(re),{modelValue:u.value,"onUpdate:modelValue":o[8]||(o[8]=l=>u.value=l),title:"\u9009\u62E9\u4EA7\u54C1",width:"50%","before-close":r.handleClose,"custom-class":"modal-class","append-to-body":"",draggable:""},{footer:t(()=>[s("span",xe,[a(e(k),{onClick:o[6]||(o[6]=l=>u.value=!1)},{default:t(()=>[Ve]),_:1}),a(e(k),{type:"primary",onClick:o[7]||(o[7]=l=>u.value=!1)},{default:t(()=>[Se]),_:1})])]),default:t(()=>[s("div",Ee,[s("div",$e,[a(e(M),{modelValue:r.inputValue,"onUpdate:modelValue":o[2]||(o[2]=l=>r.inputValue=l),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u56DE\u8F66\u641C\u7D22",clearable:""},null,8,["modelValue"])]),s("div",De,[(f(!0),E(Y,null,X(e(i),l=>(f(),w(e(ne),{key:l.name,class:"tag-class",closable:""},{default:t(()=>[C(W(l.name),1)]),_:2},1024))),128))]),a(e(F),{data:B,"max-height":"400",class:"table-class",onSelectionChange:m},{default:t(()=>[a(e(b),{type:"selection",width:"55"}),a(e(b),{type:"index",label:"\u5E8F\u53F7",width:"100"}),a(e(b),{prop:"productId",label:"\u4EA7\u54C1ID",width:"200"}),a(e(b),{prop:"productName",label:"\u4EA7\u54C1\u540D\u79F0"}),a(e(b),{prop:"theoryDuration",label:"\u65F6\u957F\uFF08\u5206\u949F\uFF09",width:"200"},{default:t(l=>[a(e(M),{type:"number",value:l.row,onChange:o[3]||(o[3]=K=>n())},null,8,["value"])]),_:1})]),_:1},8,["data"]),a(e(de),{class:"class-pagination",currentPage:d.value,"onUpdate:currentPage":o[4]||(o[4]=l=>d.value=l),"page-size":y.value,"onUpdate:page-size":o[5]||(o[5]=l=>y.value=l),"page-sizes":[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper",total:100,small:"",onSizeChange:x,onCurrentChange:N},null,8,["currentPage","page-size"])])]),_:1},8,["modelValue","before-close"])]),_:1}))}};var Ue=q(Te,[["__scopeId","data-v-46ffa5ae"]]);const Le={class:"box-card"},Re={class:"card-header"},qe=C("\u8FD4\u56DE"),ze={key:0,class:"btn-bottom-list"},Me=C("\u4FDD\u5B58"),Fe=C("\u8FD4\u56DE"),Pe={__name:"DeviceModelDetail",setup(p){const I=Z(),c=L(),v=_(),u=_(),h=_({}),g=R({add:"\u65B0\u589E",edit:"\u4FEE\u6539",view:"\u67E5\u770B"});j(()=>{c.params.id&&ce(c.params.id).then(i=>{console.log(i),h.value=i})});const B=()=>{!v.value&&!u.value||v.value.getSearchFormValue().then(i=>{console.log("values",i);const d=u.value.getSwitchValue();console.log(d),c.params.id?ie({...i,id:c.params.id,status:d?1:0}).then(()=>{$.success("\u4FEE\u6539\u6210\u529F\uFF01")}):pe({...i,status:d?1:0}).then(()=>{$.success("\u65B0\u589E\u6210\u529F\uFF01")})}).catch(i=>{console.error("fields",i)})};return(i,d)=>(f(),E("div",Le,[s("div",Re,[s("span",null,W(g[e(c).query.type]||g.add)+"\u8BBE\u5907\u578B\u53F7",1),a(e(k),{class:"button",onClick:d[0]||(d[0]=y=>e(I).back())},{default:t(()=>[qe]),_:1})]),a(Ie,{ref_key:"basicRef",ref:v,data:h.value},null,8,["data"]),a(Ue,{ref_key:"unlockRef",ref:u,data:h.value},null,8,["data"]),e(c).query.type!=="view"?(f(),E("div",ze,[a(e(k),{type:"primary",onClick:d[1]||(d[1]=S(y=>B(),["prevent"]))},{default:t(()=>[Me]),_:1}),a(e(k),{onClick:d[2]||(d[2]=S(y=>e(I).back(),["prevent"]))},{default:t(()=>[Fe]),_:1})])):T("",!0)]))}};var na=q(Pe,[["__scopeId","data-v-539512f0"]]);export{na as default};
